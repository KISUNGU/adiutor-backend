# Backend environment example

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Type de base de donnÃ©es (sqlite | postgres)
# - sqlite: DÃ©veloppement, fichier unique, pas de serveur (dÃ©faut)
# - postgres: Production, scalable, multi-instances Docker
DB_TYPE=sqlite

# SQLite Configuration (si DB_TYPE=sqlite)
SQLITE_DB_PATH=./data/mails.db3

# PostgreSQL Configuration (si DB_TYPE=postgres)
# Ã€ configurer avant la migration vers PostgreSQL
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DATABASE=adiutorai
POSTGRES_USER=adiutorai_user
POSTGRES_PASSWORD=changeme_secure_password_2025

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
PORT=4000
ALLOWED_ORIGIN=http://localhost:5173

# Security (P0: required)
# Generate with:
#   node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET_KEY=change_me_generate_128_hex_chars

# AES-256-GCM master key (32 bytes) encoded in base64
# Generate with:
#   node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
ENCRYPTION_MASTER_KEY=change_me_generate_base64_32_bytes

# Session secret for OAuth (optional; defaults to JWT_SECRET_KEY)
SESSION_SECRET=change_me_generate_64_hex_chars

# AI (optional: some routes may return 500 if missing)
OPENAI_API_KEY=sk-xxxx
VECTOR_DB_DIR=./vector_store

# Optional
LOG_LEVEL=info
OCR_LANGS=eng+fra
# ðŸ”’ PHASE 2: MinIO (Stockage WORM)
# Activer uniquement si MinIO est rÃ©ellement disponible (Docker/serveur MinIO)
MINIO_ENABLED=false
MINIO_ENDPOINT=localhost
MINIO_PORT=9000
MINIO_USE_SSL=false
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET=adiutorai-documents
MINIO_WORM_BUCKET=adiutorai-archives
MINIO_PUBLIC_BUCKET=false
